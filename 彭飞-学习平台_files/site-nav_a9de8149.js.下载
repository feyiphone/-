/*! ablejs - v0.2.0 - Monday, March 31st, 2025, 3:10:58 PM
* http://www.ablesky.com
* Copyright (c) 2025 frontend@ablesky.com; Licensed  */
!function(e){var t="function"==typeof define&&define.amd&&define.amd.jQuery,a=e("#J_siteNav"),n=(e(".account",a),e(".trigger-wrapper",a));if(a.get(0)){var i=function(){return a.height()},o=function(){window.Ext?popUpSignInWin():require(["common/global"],function(e){e.switchToLoginPage()})},s=function(a){e.blockUI.defaults.fadeIn=100,e.blockUI.defaults.fadeOut=100,e.blockUI({message:'<div id="J_popPriLetter" class="overlay-letter"><div style="text-align: center; font-size: 16px; color: #FFF;">加载中...</div></div>',overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"default",zIndex:1e4},css:{position:"fixed",top:"16%",left:"50%",marginLeft:"-300px",border:"none",textAlign:"left",backgroundColor:"none",cursor:"auto",zIndex:10010}}),t?require(["common/module-letter"],function(e){e.init(a)}):AUI.letter.init(a)};!function(){n.on({mouseover:function(){clearTimeout(this._timeout);var t=e(this),a=t.attr("data-control-width"),n=e("menu",t).siblings("a").innerWidth(),i=a?a:n;t.addClass("trigger-wrapper-hover"),e("menu",t).width(i)},mouseout:function(){var t=e(this);this._timeout=setTimeout(function(){t.removeClass("trigger-wrapper-hover")},50)}})}(),function(){var t=e(".contact-cs",a),n=e(".contact-cs menu",a),i=function(){e.ajax({url:BASE_PATH+"online.do?action=hasAnySupportOnline",dataType:"jsonp",timeout:1e4,success:function(t){var a=t.hasSupportOnline;e(".cs-info",n).html(['<a class="link button '+(a?"":"cs-offline")+' show-cs-list" href="javascript:;">在线联系客服</a>',isAbleskyDomain?'<a class="more" href="'+(isAbleskyDomain?BASE_PATH:"")+'commonRedirect.do?action=toContact">更多</a>':""].join("")),e("a.show-cs-list",n).click(function(){return AUI.checkIfLogin()?(e.ajax({url:BASE_PATH+"online.do?action=assignOnlineSupport",dataType:"jsonp",timeout:1e4,success:function(e){var t=(e.supportUsername||"support1").toLowerCase(),a=e.isOnline;a===!0?AUI.webim.chatWithMe(t,t):s(t)}}),void 0):(o(),void 0)})}})};t.hover(function(){i()},function(){})}();var r=function(t){e(".cart-num",a).show().text(t.totalCourseCnt)};t?require(["course/module-cart"],function(e){e.getItems()}):AUI.cart.getItems();var l={popLogin:o,getNavHeight:i,refreshCartInfo:r};t?define(["jquery","common/global"],function(){return l}):(window.AUI=window.AUI||{},window.AUI.siteNav=l)}}(jQuery);